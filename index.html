<html>
  <head>
    <script src="https://cdn.jsdelivr.net/lodash/4.16.6/lodash.min.js"></script>
  </head>
  <body>
    <div>
      <h2>Decided states</h2>
      <table border="1">
        <tr>
          <th>
            CLINTON
          </th>
          <th>
            TRUMP
          </th>
        </tr>
        <tr valign="top"> 
          <td>
            <table id="clintonStates" border="1">
              <tr>
                <th>State</th>
                <th>Electors</th>
              </tr>
            </table>
          </td>
          <td>
            <table id="trumpStates" border="1">
              <tr>
                <th>State</th>
                <th>Electors</th>
              </tr>
            </table>
          </td>
        </tr>
        <tr>
          <td><strong>TOTAL: <span id="clintonTotalDisplay"></span></strong></td>
          <td><strong>TOTAL: <span id="trumpTotalDisplay"></span></strong></td>
        </tr>
      </table>
    </div>

    <div>
      <h2>Undecided states</h2>
      <table border=1>
        <tr>
          <th>Strong blue</th>
          <th>Probably blue</th>
          <th>Toss-up</th>
          <th>Probably red</th>
          <th>Strong red</th>
        </tr>
        <tr valign="top">
          <td>
            <table border="1" id="strong blue">
              <tr>
                <th>State</th>
                <th>Electors</th>
              </tr>
            </table>
          </td>
          <td>
            <table border="1" id="probably blue">
              <tr>
                <th>State</th>
                <th>Electors</th>
              </tr>
            </table>
          </td>
          <td>
            <table border="1" id="toss-up">
              <tr>
                <th>State</th>
                <th>Electors</th>
              </tr>
            </table>
          </td>
          <td>
            <table border="1" id="probably red">
              <tr>
                <th>State</th>
                <th>Electors</th>
              </tr>
            </table>
          </td>
          <td>
            <table border="1" id="strong red">
              <tr>
                <th>State</th>
                <th>Electors</th>
              </tr>
            </table>
          </td>
        </tr>
    </div>




<script>
states = [
  {
    "name": "Alabama",
    "electors" : 9,
    "category": "strong red"
  },
  {
    "name": "Alaska",
    "electors" : 3,
    "category": "probably red"
  },
  {
    "name": "Arizona",
    "electors": 11,
    "category": "probably red"
  },
  {
    "name": "Arkansas",
    "electors": 6,
    "category": "strong red"
  },
  {
    "name": "California",
    "electors": 55,
    "category": "strong blue"
  },
  {
    "name": "Colorado",
    "electors": 9,
    "category": "probably blue"
  },
  {
    "name": "Connecticut",
    "electors": 7,
    "category": "strong blue"
  },
  {
    "name": "DC",
    "electors": 3,
    "category": "strong blue"
  },
  {
    "name": "Delaware",
    "electors": 3,
    "category": "strong blue"
  },
  {
    "name": "Florida",
    "electors": 29,
    "category": "toss-up"
  },
  {
    "name": "Georgia",
    "electors": 16,
    "category": "strong red"
  },
  {
    "name": "Hawaii",
    "electors": 4,
    "category": "strong blue"
  },
  {
    "name": "Idaho",
    "electors": 4,
    "category": "strong red"
  },
  {
    "name": "Illinois",
    "electors": 20,
    "category": "strong blue"
  },
  {
    "name": "Indiana",
    "electors": 11,
    "category": "strong red"
  },
  {
    "name": "Iowa",
    "electors": 6,
    "category": "probably red"
  },
  {
    "name": "Kansas",
    "electors": 6,
    "category": "strong red"
  },
  {
    "name": "Kentucky",
    "electors": 8,
    "category": "strong red"
  },
  {
    "name": "Louisiana",
    "electors": 8,
    "category": "strong red"
  },
  {
    "name": "Maine, at large",
    "electors": 2,
    "category": "strong blue"
  },
  {
    "name": "Maine, District 1",
    "electors": 1,
    "category": "strong blue"
  },
  {
    "name": "Maine, District 2",
    "electors": 1,
    "category": "toss-up"
  },
  {
    "name": "Maryland",
    "electors": 10,
    "category": "strong blue"
  },
  {
    "name": "Massachusetts",
    "electors": 11,
    "category": "strong blue"
  },
  {
    "name": "Michigan",
    "electors": 16,
    "category": "probably blue"
  },
  {
    "name": "Minnesota",
    "electors": 10,
    "category": "strong blue"
  },
  {
    "name": "Mississippi",
    "electors": 6,
    "category": "strong red"
  },
  {
    "name": "Missouri",
    "electors": 10,
    "category": "strong red"
  },
  {
    "name": "Montana",
    "electors": 3,
    "category": "strong red"
  },
  {
    "name": "Nebraska",
    "electors": 2,
    "category": "strong red"
  },
  {
    "name": "Nebraska, District 1",
    "electors": 1,
    "category": "strong red"
  },
  {
    "name": "Nebraska, District 2",
    "electors": 1,
    "category": "probably red"
  },
  {
    "name": "Nebraska, District 3",
    "electors": 1,
    "category": "strong red"
  },
  {
    "name": "Nevada",
    "electors": 6,
    "category": "toss-up"
  },
  {
    "name": "New Hampshire",
    "electors": 4,
    "category": "probably blue"
  },
  {
    "name": "New Jersey",
    "electors": 14,
    "category": "strong blue"
  },
  {
    "name": "New Mexico",
    "electors": 5,
    "category": "strong blue"
  },
  {
    "name": "New York",
    "electors": 29,
    "category": "strong blue"
  },
  {
    "name": "North Carolina",
    "electors": 15,
    "category": "toss-up"
  },
  {
    "name": "North Dakota",
    "electors": 3,
    "category": "strong red"
  },
  {
    "name": "Ohio",
    "electors": 18,
    "category": "probably red"
  },
  {
    "name": "Oklahoma",
    "electors": 7,
    "category": "strong red"
  },
  {
    "name": "Oregon",
    "electors": 7,
    "category": "strong blue"
  },
  {
    "name": "Pennsylvania",
    "electors": 20,
    "category": "probably blue"
  },
  {
    "name": "Rhode Island",
    "electors": 4,
    "category": "strong blue"
  },
  {
    "name": "South Carolina",
    "electors": 3,
    "category": "strong red"
  },
  {
    "name": "South Dakota",
    "electors": 3,
    "category": "strong red"
  },
  {
    "name": "Tennessee",
    "electors": 11,
    "category": "strong red"
  },
  {
    "name": "Texas",
    "electors": 38,
    "category": "strong red"
  },
  {
    "name": "Utah",
    "electors": 6,
    "category": "probably red"
  },
  {
    "name": "Vermont",
    "electors": 3,
    "category": "strong blue"
  },
  {
    "name": "Virginia",
    "electors": 13,
    "category": "strong blue"
  },
  {
    "name": "Washington",
    "electors": 12,
    "category": "strong blue",
    "winner": "clinton"
  },
  {
    "name": "West Virginia",
    "electors": 5,
    "category": "strong red"
  },
  {
    "name": "Wisconsin",
    "electors": 10,
    "category": "probably blue",
    "winner" : "trump"
  },
  {
    "name": "Wyoming",
    "electors": 3,
    "category": "strong red",
    "winner" : "trump"
  }
];

var trumpTotal = 0, clintonTotal = 0;

// Add up all the currently decided states
_.forEach(states, function(state) {
  if(!state.winner) return;
  if(state.winner==="clinton") {
    toappend = document.getElementById("clintonStates");
    clintonTotal += state.electors;
  }
  else /*if(state.winner==="Trump")*/ {
    toappend = document.getElementById("trumpStates");
    trumpTotal += state.electors;
  }

  toappend.innerHTML += "<tr><td>" + state.name + "<td>" + state.electors + "</td></tr>"
});
// Print out the elector totals
displayTarget = document.getElementById("clintonTotalDisplay");
displayTarget.innerHTML = clintonTotal;
displayTarget = document.getElementById("trumpTotalDisplay");
displayTarget.innerHTML = trumpTotal;


// Print the undecided states into their columns
_.forEach(states, function(state) {
  if(state.winner) return;

  displayTarget = document.getElementById(state.category);
  displayTarget.innerHTML += "<tr><td>" + state.name + "<td>" + state.electors + "</td></tr>"
});


// START CLINTON SIM
clintonSimTotal = clintonTotal;


</script>
  </body>
</html>